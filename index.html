<!DOCTYPE html>
<html lang="en">

<head>
    <title>Fundoo Entertainment</title>
    <link rel="stylesheet" href="assets/css/indu_global.css">
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-47795566-10" defer="defer"></script>

    <script src="https://securepubads.g.doubleclick.net/tag/js/gpt.js" defer="defer"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <link rel="icon" type="image/png" href="./assets/images/favicon.png">
    <style type="text/css" media="handheld">
    /* rules for mobile devices that don't support media queries */
    body {
        font-size: 80%;
    }
    </style>
    <script>
        var timerStart = Date.now();
            console.log("initialised @: %c"+ (Date.now()-timerStart) + ' ms', 'color:blue;');///DEBUG 

            window.addEventListener('load', function(){
                console.log("Page load complete@: %c "+ (Date.now()-timerStart) + ' ms ', 'color:white;background-color:darkviolet'); 
                //alert('Page loading took: ' +  ((Date.now()-timerStart)/1000).toFixed(2) + ' seconds' )
            });
    </script>

    <style>
    html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}canvas{display:inline-block;vertical-align:baseline}[hidden]{display:none}a{background-color:transparent}a:active,a:hover{outline:0}b,strong{font-weight:700}img{border:0}button,input{margin:0;font:inherit;color:inherit}button{overflow:visible;text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input{line-height:normal}input[type=search]{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff;margin:0}button,input{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}img{vertical-align:middle}.img-responsive{display:block;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{display:inline-block;max-width:100%;height:auto;padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}[role=button]{cursor:pointer}.h6,h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}.h6,h6{margin-top:10px;margin-bottom:10px}.h6,h6{font-size:12px}ul{margin-top:0;margin-bottom:10px}ul ul{margin-bottom:0}.list-unstyled{padding-left:0;list-style:none}.col-xs-12,.col-xs-3,.col-xs-9{position:relative;min-height:1px;padding-right:15px;padding-left:15px}.col-xs-12,.col-xs-3,.col-xs-9{float:left}.col-xs-12{width:100%}.col-xs-9{width:75%}.col-xs-3{width:25%}caption{padding-top:8px;padding-bottom:8px;color:#777;text-align:left}legend{display:block;width:100%;padding:0;margin-bottom:20px;font-size:21px;line-height:inherit;color:#333;border:0;border-bottom:1px solid #e5e5e5}input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}input[type=checkbox],input[type=radio]{margin:4px 0 0;line-height:normal}input[type=file]{display:block}input[type=range]{display:block;width:100%}input[type=checkbox]:focus,input[type=file]:focus,input[type=radio]:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.form-control{display:block;width:100%;height:34px;padding:6px 12px;font-size:14px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.form-control[disabled],.form-control[readonly]{background-color:#eee;opacity:1}.form-control[disabled]{cursor:not-allowed}input[type=search]{-webkit-appearance:none}@media screen and (-webkit-min-device-pixel-ratio:0){input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{line-height:34px}}input[type=checkbox][disabled],input[type=radio][disabled]{cursor:not-allowed}.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:4px}.btn:active:focus,.btn:focus{outline:thin dotted;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn:active{background-image:none;outline:0;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn[disabled]{cursor:not-allowed;-webkit-box-shadow:none;box-shadow:none;opacity:.65}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default:focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active:focus,.btn-default:active:hover{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default:active{background-image:none}.btn-default[disabled],.btn-default[disabled]:active,.btn-default[disabled]:focus,.btn-default[disabled]:hover{background-color:#fff;border-color:#ccc}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}[data-toggle=buttons]>.btn input[type=checkbox],[data-toggle=buttons]>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*=col-]{float:none;padding-right:0;padding-left:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group .form-control,.input-group-btn{display:table-cell}.input-group .form-control:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child){border-radius:0}.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group .form-control:first-child,.input-group-btn:first-child>.btn,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.input-group .form-control:last-child,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:last-child>.btn{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-btn{position:relative;font-size:0;white-space:nowrap}.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:active,.input-group-btn>.btn:focus,.input-group-btn>.btn:hover{z-index:2}.input-group-btn:first-child>.btn{margin-right:-1px}.input-group-btn:last-child>.btn{z-index:2;margin-left:-1px}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@-o-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}.media{margin-top:15px}.media:first-child{margin-top:0}.media{overflow:hidden;zoom:1}.panel{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.panel-body{padding:15px}.panel-body a{text-decoration:none!important}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-body:after,.panel-body:before{display:table;content:" "}.panel-body:after{clear:both}.center-block{display:block;margin-right:auto;margin-left:auto}@-ms-viewport{width:device-width}.site_suggest_ads,.site_suggest_box{display:none}.indus_sections{padding-top:84px}html{height:100%}body{font-family:arial!important;font-size:140%;font-weight:700;background-color:#fff;padding:0;font-family:arial}#div-gpt-ad-1565767605361-0{height:100%;width:100%;text-align:center;font:0/0}#div-gpt-ad-1551357349271-9{height:100%;width:100%;text-align:center;font:0/0}.site_suggest_box{width:100%;background:#fff;color:gray;box-shadow:0 0 5px 3px #ddd;display:inline-block;position:absolute;box-shadow:0 0 12px 0 #e1e1e1;border-radius:19px;-webkit-border-radius:19px;z-index:9;top:66px;left:0}.site_suggest_ads.list-unstyled.result-bucket li:last-child{border-bottom:none}.site_suggest_box li a{display:block;text-overflow:ellipsis;text-decoration:none}.site_suggest_box ul{margin-bottom:0}#icon{width:36px;display:inline-block;margin:3px;border:1px solid #c1c1c1;border-radius:3px}.word-wrap{word-wrap:break-word}.top-buffer{margin-top:19px;position:relative;width:100%}.vertical-center-row.top-buffer{position:relative;display:inline-block;width:100%}.bottom-buffer{margin-bottom:20px;display:inline-block;width:100%}.section_heading{display:block;text-align:left;overflow:hidden;white-space:nowrap}.topnew{display:none}.recommended_apps{background-size:cover;border:none;position:relative;background:#f6f6f6;text-align:center;text-overflow:ellipsis;font-weight:400;border-radius:10%;text-decoration:none;width:50px;height:50px;width:50px;height:50px}#search .fa-search:before{color:#999}.panel-heading{text-align:center;font-size:75%;color:#999}.recommended_apps_name{padding:7px 0 7px;display:block;font-size:12px;font-weight:500;display:-webkit-box;max-width:100%;-webkit-line-clamp:2;color:#000;-webkit-box-orient:vertical;text-overflow:ellipsis;white-space:nowrap}.panel{background-color:#fff;margin-bottom:0}ul{padding:0;list-style-type:none}li{list-style-type:none}.top_news_section.top-buffer{padding:0 0;margin:0}.ReadMore{display:none;border-radius:29px;cursor:pointer;color:#fff;background:#fff;line-height:24px}.ReadMore:hover{color:#fff}.panel{-webkit-box-shadow:none;box-shadow:none}.panel-body{padding:0 0;vertical-align:top;display:inline-block;width:100%;text-align:center;overflow:hidden}#search_in_page::-webkit-input-placeholder{font-weight:400;color:#999}.img-thumbnail{padding:3px}.search-bar .form-control{font-size:14px;height:45px;border:none;box-shadow:none;background:0 0;border-radius:60px;padding:0 0 0 16px}#button-icon{font-size:18px;border:none;background:0 0;padding:5px 7px 5px;color:#777;margin:0}#button-icon .flaticon-search:before{color:#777}#button-icon>img{width:18px;height:18px}.input-group-btn>.btn{padding:6px 10px}.search-bar{display:inline-block;width:100%;background:#fff;padding:17px 14px 13px;margin:-2px 0 0 0}.input-group{width:100%;background:#fff;height:45px;border-radius:65px;box-shadow:0 1px 6px 0 rgba(32,33,36,.28);-webkit-box-shadow:0 1px 6px 0 rgba(32,33,36,.28);-moz-box-shadow:0 1px 6px 0 rgba(32,33,36,.28);-moz-border-radius:65px;-webkit-border-radius:65px}.top_news_section.top-buffer li{width:100%;padding:0 8px}li#top_news_ads1{padding:0}#pic{text-align:center}.top_div{width:100%;display:inline-block;border-radius:7px;-webkit-border-radius:7px;margin-bottom:9px;vertical-align:top;padding:0 0;vertical-align:top;box-shadow:0 1px 6px 0 rgba(0,0,0,.28);-webkit-box-shadow:0 1px 6px 0 rgba(0,0,0,.28);-moz-box-shadow:0 1px 6px 0 rgba(0,0,0,.28)}.view_more_middle{display:inline-block;width:100%}.ReadMore{text-transform:uppercase;font-size:12px}.top_div br{display:none}#top_news_ads1{margin:0 0 9px 0}#top_news_0 .col-xs-12{padding:0}#top_news_0 h6{margin-bottom:10px}.top_div .col-xs-3{padding-left:0}#top_news_ads2{margin:0 0 9px}#recommended_app_section .col-xs-3{padding:0 5px}#recommended_app_section{padding:0 8px}.search_fixed{display:inline-block;width:100%;position:fixed;top:0;left:0;z-index:3}.search_space_fix{display:inline-block;width:100%;height:30px}#publishTime{color:#999}#top_news_0 .source_image{display:inline-block;width:100%;padding:0}.source_image{display:inline-block;width:100%;padding:0 0 3px 0}.view_more_middle .btn:focus,.view_more_middle .btn:hover{outline:0}.flex-container{display:flex;flex-wrap:wrap}.indus_full{display:inline-block;width:100%}.view_more_butt{display:inline-block;width:100%;padding:0;margin-top:10px}.btn:focus,.search-bar .btn:active:focus{outline:0}.view_more_butt1{margin:0 auto;width:130px}#top_news_0 #news_image_0{max-width:100%;float:none;margin:0;border-radius:7px 7px 0 0;-webkit-border-radius:7px 7px 0 0}.feeds_right{float:right;padding:14px 0;max-width:100%}.top_div a{vertical-align:top;color:#555;font-size:13px;line-height:17px;display:inline-block;padding:0;font-weight:900;width:100%}.publishTime{font-size:12px;margin:0;padding:3px 0 7px 0;display:inline-block;font-weight:300}.source_name{color:#878787;font-size:12px;margin:0;padding:0 0 0 7px;display:inline-block;font-weight:300;vertical-align:middle}.first_top_news{padding:0 14px}.flex-container{display:flex;flex-direction:column}.li_row{padding:10px 15px 4px;border-bottom:1px solid #eee}.site_suggest_box li a{display:block;text-overflow:ellipsis}#icon{width:36px;display:inline-block;margin:3px;border:1px solid #c1c1c1;border-radius:3px}.site_ad_title{display:inline-block;margin-left:20px;font-size:20px}.site_ad_title{width:160px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.site_suggest_box h3{font-size:16px;margin-top:1px;margin-bottom:1px}.site_suggest_box p{font-size:12px;color:#999;margin-top:1px;margin-bottom:1px}.fourinch{display:none}.top-buffer .fa-chevron-circle-down:before{font-size:22px;color:#999}.view_more_middle{margin:9px 0 auto;width:100%}#top_news_0 #news_image_0{max-width:100%;float:none;margin:0;border-radius:7px 7px 0 0;-webkit-border-radius:7px 7px 0 0}.feeds_right{float:right;padding:14px 0;max-width:100%}.top_div a{vertical-align:top;color:#555;font-size:13px;line-height:17px;display:inline-block;padding:0;font-weight:900;width:100%}.publishTime{color:#878787;margin:0;padding:7px 0 7px 2px;display:inline-block}.first_top_news{padding:0 14px}#top_news_0 .ph_picture_big{display:inline-block;width:100%;height:400px;background-color:#ced4da}#top_news_0 .ph_picture_small{display:inline-block;width:20px;height:20px;background-color:#ced4da}#top_news_0 .ph_picture_bold_title{display:inline-block;width:100%;height:23px;background-color:#ced4da}#top_news_0 .ph_picture_smalll{display:inline-block;width:100px;height:19px;background-color:#ced4da}.top_div .ph_picture_smalll{display:inline-block;width:100px;height:19px;background-color:#ced4da}.top_div .ph_picture_bold_title{display:inline-block;width:100%;height:23px;background-color:#ced4da}.top_div .ph_picture_small{display:inline-block;width:20px;height:20px;background-color:#ced4da}.top_div .ph_picture_big{width:80px;height:80px;background-color:#ced4da;float:right;margin:14px 0}#top_news_0 .top_div .ph_picture_big{margin:0}.app_icon_place{width:63px;height:60px;background-color:#ced4da;margin:0 auto}.app_icon_place_text{margin:6px 0 auto;width:64px;background-color:#ced4da;height:14px}#recommended_app_section .fa.fa-chevron-circle-up{display:inline-block;width:100%;height:25px;background:url(../images/up-arrow.png) center no-repeat}li#top_news_0{margin-top:10px}#change_arrowicon{font-size:18px;color:#777;display:inline-block;width:100%;text-align:center;margin-top:0}#change_arrowicon:hover{text-decoration:none;border:none}.input-group .btn:active{outline:0;-webkit-box-shadow:none;box-shadow:none;box-shadow:none}.top_news_section.top-buffer li b{font-size:13px;width:100%;line-height:15px;padding:12px 0 0 0;font-family:arial}.indus_middle{margin:0 auto;width:646px}#top_news_0 b{padding:14px 0 0 0}.indus_middle .search_fixed{position:relative}.indus_middle .search_space_fix{height:inherit}.top_news_section.top-buffer.morethan400 li b{padding:12px 0 0 0}.top_news_section.top-buffer.lessthan400 li b{padding:7px 0 0 0;font-size:12px;line-height:16px}.indus_middle .top_news_section.top-buffer.morethan400 li b{padding:11px 0 0 0}.indus_middle .top-buffer{margin:0}.indus_middle_five .top_news_section.top-buffer.lessthan400 li b{padding:10px 0 0 0;font-weight:300}.indus_middle_five .publishTime,.indus_middle_five .source_name{font-size:11px}.indus_middle_five .site_suggest_box h3{font-size:13px}#top_news_tpl{display:none}.top_mar{margin:0}#top_news_0 .first_top_news img{margin:0}.search-bar .input-group-btn{width:40px}.top_news_pro{display:inline-block;vertical-align:middle;width:100%;margin:14px 0 0 0}.bwrap{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;box-orient:vertical}.panel-body a{text-decoration:none!important}.site_suggest_ads,.site_suggest_box{display:none}.indus_sections{padding-top:34px}#arrow_img{width:20px;height:20px}
    </style>
</head>

<body>
    <!-- google optimisation suggestions -->
    <link rel="dns-prefetch" href="https://kme46.siteplug.com">
    <link rel="dns-prefetch" href="https://static-02.siteplug.com">
    <link rel="dns-prefetch" href="https://feed.dailyhunt.in">
    <link rel="dns-prefetch" href="https://ad.doubleclick.net">
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication">
    <div class="indus_middle" id="indus_cont">
        <div id="indus_cont_five">
            <!--  Search Bar  -->
            <header>
                <div class="row_search top-buffer">
                    <div class="search_fixed">
                        <div class="search-bar">
                            <div id="search" class="input-group">
                                <input class="form-control" name="q" type="text" id="search_in_page" placeholder="Search here.." />
                                <div class="input-group-btn" id="search_button">
                                    <button class="btn btn-default" id="button-icon">
                                        <img src="./assets/images/search1.svg" alt="search" aria-describedby="search button">
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="site_suggest_box">
                            <ul class="site_suggest_ads list-unstyled result-bucket"></ul>
                        </div>
                    </div>
                </div>
                <!--  Site Suggest  -->
            </header>
            <section class="indus_sections">
                <div class="flex-container">
                    <!--  Recommended Apps  -->
                    <div class="vertical-center-row top-buffer recommended_app_wrap">
                        <div id="recommended_app_section"></div>
                    </div>
                    <!--  TopNews Section  -->
                    <div class="indus_full" id="indus_full">
                        <ul id="all_news" class="top_news_section top-buffer">

                            <script>
                            var googletag = googletag || {};
                            googletag.cmd = googletag.cmd || [];
                            </script>

                            <li id="top_news_ads1">
                                <div id="div-gpt-ad-1551357349271-9">
                                    <script type="text/javascript">
                                    googletag.cmd.push(function() {
                                        googletag.pubads().display("/42115163/IP_start.indusos.com_320X100_Mobile", [320, 100], "div-gpt-ad-1551357349271-9");
                                    });
                                    </script>
                                </div>
                                <script type="text/javascript">
                                (function(){function LS(){var o='script',s=top.document,a=s.createElement(o),m=s.getElementsByTagName(o)[0],p=location.protocol,t="https:"==p?"s":"",d=new Date(),u=p+'//hb'+t+'.ph.affinity.com/v5/indusos.com/inpara.php?t='+d.getDate()+d.getMonth()+d.getHours();a.async=1;a.src=u;m.parentNode.insertBefore(a,m)}
                                try{window.__IBC___WRAPPER__=document.getElementById('div-gpt-ad-1551357349271-9')
                                LS()}catch(e){}})()
                                </script>
                            </li>
                            <li id="top_news_ads2">
                                <div id="div-gpt-ad-1565767605361-0">
                                <script type="text/javascript">
                                googletag.cmd.push(function() {
                                googletag.pubads().display("/42115163/IP_start.indusos.com_300X250_Mobile", [300,250],"div-gpt-ad-1565767605361-0");
                                });
                                </script>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <script src="./assets/js/crypto-js-bundle.min.js" defer></script>
    <!-- <script src="./assets/js/custom.js" defer></script> -->
    <!-- search script init -->
    <script id="search_siteplug"></script>
    <script id="site_redirect"></script>
    <!-- <script>dqs('#search_in_page').style.display = 'block'; dqs('#button-icon').style.display = 'block';</script> -->
</body>

<script>
    var allNews = [];


window.addEventListener('DOMContentLoaded', (event) => {
    console.log('DOM fully loaded and parsed');
    fetchNews();
    //CSS CLASSES SETUP: based on device
    var mql = window.matchMedia('(max-width: 699px)');
    if (mql.matches) {
        document.querySelector('#indus_cont').classList.remove("indus_middle");;
    }
    mql = window.matchMedia('(max-width:339px)');
    if (mql.matches) {
        document.querySelector('#indus_cont_five').classList.add("indus_middle_five");;
    }
    mql = window.matchMedia('(max-width: 399px)');
    if (mql.matches) {
        var sel = '#all_news';
        var coll = document.querySelector(sel).classList.add('lessthan400');

    } else {
        var sel = '#all_news';
        var coll = document.querySelector(sel).classList.add('morethan400');
    }
});

// APPEND SITEPLUG SCRIPT
let sitePlugFragment = document.createElement('script');
sitePlugFragment.src = "https://kme46.siteplug.com/qlapi?o=kme46&s=88107&u=[domain]&f=json&n=8&i=1&is=36x36&di=&callback=fetchRecommends";
document.body.appendChild(sitePlugFragment);

// RECOMMENDED APPS
function fetchRecommends(res) {
    if (typeof res == 'string') {
        let res = JSON.parse(res);
    }
    let data = res['data'];

    let recommended_app_section_node = document.getElementById('recommended_app_section');
    let recFragment = new DocumentFragment();

    for (let i = 0; i < data.length; i++) {
        let news_node = document.createElement('div');
        news_node.classList.add('col-xs-3');
        news_node.classList.add('panel');
        news_node.classList.add('fig_div');
        news_node.id = `fig_div_${i}`;
        let img_src = data[i]['iurl'].replace('36x36', '128x128');

        let single_item = `<div class="panel-body">
                <a id="app_url_${i}" href="${data[i]['rurl']}">
                    <img class="img-responsive img-thumbnail center-block recommended_apps"
                        id="app_image_${i}" src="${img_src}" alt="${data[i]['brand']}"
                        data-name="${data[i]['brand']}">
                    <span class="panel-heading word-wrap recommended_apps_name"
                        id="recommended_apps_name_${i}">${data[i]['brand']}
                    </span>
                </a>
            </div>`;

        news_node.innerHTML = single_item;
        recFragment.appendChild(news_node);
    }

    // attach recFragment to main DOM
    recommended_app_section_node.appendChild(recFragment);
    mql = window.matchMedia('(max-width: 320px)');
    if (mql.matches) {
        var icoColl = document.querySelectorAll('.fig_div:nth-last-child(-n+4)');
        for (var i = 0; i < icoColl.length; i++) {
            icoColl[i].classList.add('fourinch');
        }
        var nextdiv = document.createElement("a");
        nextdiv.id = 'change_arrowicon'
        //nextdiv.className = 'glyph-icon flaticon-down-arrow';

        var arrImg = document.createElement("img");
        arrImg.id = 'arrow_img';
        arrImg.src = 'assets/images/down-arrow-sc.svg';
        nextdiv.appendChild(arrImg);

        nextdiv.href = "javascript:show_nextitem();"

        document.getElementById('recommended_app_section').appendChild(nextdiv);
    }
    flag_var = 1;
}

// FETCH NEWS
const fetchNews = async (query) => {
    console.log('fetching the news......');
    let pageNumber = 1;
    let newsAppKey = 'DVj2UsFaFnN+3kn4VHWPS9hUiLCz4eOtblRfAUrDC50=';
    let current_parameter = query;
    // let bigAdInterval = 2;
    // let smallAdInterval = 5;

    let timestamp = new Date().getTime();
    let message_get = "cid=1&fields=data.rows.id%2Cdata.rows.title%2Cdata.rows.deepLinkUrl%2Cdata.rows.publishTime%2Cdata.rows.images%2Cdata.rows.source%2Cdata.rows.sourceLogo&langCode=hi&pageNumber=" + pageNumber + "&pageSize=1&partner=indus&puid=" + current_parameter + "&ts=" + timestamp + "GET";
    let hash_get = CryptoJS.HmacSHA1(message_get, "4IGAIGGb8z1nOGzpBiSeQA==");
    let hashInBase64_get = CryptoJS.enc.Base64.stringify(hash_get);
    // let message_post = "partner=indus&puid=" + current_parameter + "&ts=" + timestamp + "POST"
    // let hash_post = CryptoJS.HmacSHA1(message_post, "4IGAIGGb8z1nOGzpBiSeQA==");
    // let hashInBase64_post = CryptoJS.enc.Base64.stringify(hash_post);

    // let track_data = {
    //     "viewedDate": timestamp,
    //     "stories": []
    // };

    let url = "https://feed.dailyhunt.in/api/v2/syndication/items?pageSize=1&fields=data.rows.id,data.rows.title,data.rows.deepLinkUrl,data.rows.publishTime,data.rows.images,data.rows.source,data.rows.sourceLogo&cid=1&langCode=hi&pageNumber=" + pageNumber + "&partner=indus&ts=" + timestamp + "&puid=" + current_parameter;

    await fetch(url, {
        method: 'GET',
        mode: 'cors',
        credentials: 'include',
        headers: {
            'Authorization': "key=" + newsAppKey,
            'Signature': hashInBase64_get
        }
    }).then(res => res.json())
        .then(res => {
            if (res.code === 200) {
                renderNews(res.data);
            }
            else renderNews(false);
        })
        .catch(err => console.log(err))
}

// RENDER NEWS TO THE DOM
const renderNews = data => {
    if (data && data.count > 0) {
        let newsFragment = new DocumentFragment();
        console.log("Creating news feed DOM....");

        data.rows = data.rows.sort((a,b) => { return b.publishTime - a.publishTime });
        data.rows.forEach((i, idx) => {
            let li = document.createElement('li');
            li.id = `top_news_${idx}`;

            let sourceImg = i.sourceLogo.replace(/{CMD}/g, "crop").replace(/{W}x{H}_{Q}/g, "25x25_60").replace(/{EXT}/g, "webp");
            sourceImg = sourceImg.replace('96x96_60', '20x20_60');

            if (idx === 0) {
                let imgSrc = i.images[0].replace(/{CMD}/g, "crop").replace(/{W}x{H}_{Q}/g, "700x400_80").replace(/{EXT}/g, "webp");

                li.innerHTML = `<div class="top_div">
                    <a id="news_href_0" href="${i.deepLinkUrl}">
                        <div class="col-xs-12" id="pic">
                            <img
                                id="news_image_0"
                                class="img-r-esponsive img-rounded img-auto"
                                src="${imgSrc}"
                                alt="${i.source}"
                            >
                        </div>
                        <div class="col-xs-12">
                            <div class="first_top_news">
                                <div class="top_news_pro">
                                    <img
                                        src="${sourceImg}"
                                        id="source_image_0"
                                        class="img-r-esponsive img-auto"
                                        alt="${i.source}"
                                    >
                                    <span class="source_name" id="source_name_0">${i.source}</span>
                                </div>
                                <b id="news_heading_0" class="bwrap">${i.title}</b>
                                <div class="source_image">
                                    <h6 id="publishTime_0" class="publishTime" data-publish-ts="${i.publishTime}">${timeSince(i.publishTime)}</h6>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>`;
            } else {
                let imgSrc = i.images[0].replace(/{CMD}/g, "crop").replace(/{W}x{H}_{Q}/g, "150x150_90").replace(/{EXT}/g, "webp");

                li.innerHTML = `<div class="top_div">
                    <a id="news_href_${idx}" href="${i.deepLinkUrl}">
                        <div class="col-xs-9">
                            <div class="top_news_pro">
                                <img
                                    id="source_image_${idx}"
                                    class="top_mar"
                                    src="${sourceImg}"
                                    alt="${i.source}"
                                >
                                <span class="source_name" id="source_name_${idx}">${i.source}</span>
                            </div>
                            <b id="news_heading_${idx}" class="bwrap">${i.title}</b>
                            <div class="source_image">
                                <h6 id="publishTime_${idx}" class="publishTime" data-publish-ts="${i.publishTime}">${timeSince(i.publishTime)}</h6>
                            </div>
                        </div>
                        <div class="col-xs-3" id="pic">
                            <img
                                id="news_image_${idx}"
                                class="img-r-esponsive img-rounded img-auto feeds_right"
                                src="${imgSrc}"
                                alt="${i.source}"
                            >
                        </div>
                    </a>
                </div>`;
            }
            newsFragment.appendChild(li);
        })

        document.getElementById('all_news').appendChild(newsFragment);
        
    } else {
        console.log('Problem fetching the data.')
    }
}

// SEARCH BAR
let search_dom_node = document.getElementById('search_in_page');

search_dom_node.addEventListener('keyup', e => {
    let validInput = e.target.value.length > 2;

    if (validInput && (e.keyCode >= 65 && e.keyCode <= 122)) {
        searchFunc(e.target.value);
    } else if (validInput && e.keyCode === 13) {
        document.querySelector('.site_suggest_ads').innerHTML = '';
        redirectFunc(e.target.value);
    } else if (validInput) {
        document.querySelector('.site_suggest_ads').innerHTML = '';
    }
});

document.getElementById('button-icon').addEventListener('click', () => {
    if (search_dom_node.value.length > 2) {
        redirectFunc(search_dom_node.value);
    }
});

const searchFunc = query => {
    let node = document.getElementById('search_siteplug');
    document.body.removeChild(node);

    let newNode = document.createElement('script');
    newNode.id = 'search_siteplug';
    newNode.src = 'https://cwc89.siteplug.com/sssapi?o=cwc89&s=61071&kw=' + query + '&itype=cs&f=json&i=1&it=1&is=36x36&n=5&af=1&di=&callback=renderSearchResult';
    document.body.appendChild(newNode);
}

function renderSearchResult(res) {
    if (typeof res == 'string') {
        let res = JSON.parse(res);
    }
    if (!res['ads']['ad']) {
        return;
    }

    let data = [];

    if (Array.isArray(res['ads']['ad'])) {
        let arr = [...res['ads']['ad']];
        data.push(...arr);
    } else {
        data.push(res['ads']['ad']);
    }

    let trimmedData = data.slice(0, 3);

    let searchBox = document.querySelector('.site_suggest_box');
    let searchList = document.querySelector('.site_suggest_ads');

    if (trimmedData.length > 0) {
        searchBox.style.display = 'block';
        searchList.style.display = 'block';
        let listFragment = new DocumentFragment();

        trimmedData.forEach(i => {
            let li = document.createElement('li');
            li.classList.add('li_row');
            li.innerHTML = `<div class="ad_list">
                <a href="${i.rurl}">
                <div id="icon">
                    <img id="brand_image" class="img-responsive ads-img img-auto" src="${i.iurl}" alt="${i.brand}">
                </div>
                <div class="site_ad_title word-wrap">
                    <h3 id="brand_title" class="word-wrap">${i.brand}
                    </h3>
                    <p id="ad_domain" class="domain_url">${i.durl}</p>
                </div>
                </a>
            </div>`;
            listFragment.appendChild(li);
        });
        searchList.innerHTML = '';
        searchList.appendChild(listFragment);
    } else {
        searchBox.style.display = 'none';
        searchList.style.display = 'none';
    }
};

// REDIRECT FUNCTION
const redirectFunc = (query) => {
    let node = document.getElementById('site_redirect');
    document.body.removeChild(node);

    let newNode = document.createElement('script');
    newNode.id = 'site_redirect';
    newNode.src = 'https://edd31.siteplug.com/sssapi?o=edd31&s=77160&kw=' + query + '&itype=cs&f=json&af=0&di=&callback=redirectMethod';

    document.body.appendChild(newNode);
}

function redirectMethod(res) {
    if (typeof res == 'string') {
        let res = JSON.parse(res);
    }

    let query = document.getElementById('search_in_page').value;

    let ads = res['ads'];
    if (ads != "No Ads for given Keyword.") {
        redirectlink = data['ads']['ad']['rurl'];
        window.open(redirectlink, "_self");
    } else {
        window.open("http://b.scandid.in/api/searchv3?category=product&type=json&subid=INDA&key=tqw5643rasf3gbag&pid=ind&product_key=" + query, "_self");
    }
}

/* helper functions */
const timeSince = (date) => {
    let seconds = Math.floor((new Date() - date) / 1000);

    if (seconds < 0)
        return "Just now";

    let interval = Math.floor(seconds / 31536000);

    if (interval > 1) {
        return interval + " years ago";
    }
    interval = Math.floor(seconds / 2592000);
    if (interval > 1) {
        return interval + " months ago";
    }
    interval = Math.floor(seconds / 86400);
    if (interval > 1) {
        return interval + " days ago";
    }
    interval = Math.floor(seconds / 3600);
    if (interval > 1) {
        return interval + " hours ago";
    }
    interval = Math.floor(seconds / 60);
    if (interval > 1) {
        return interval + " minutes ago";
    }
    if (seconds > 60) {
        return "59 seconds ago";
    }
    return Math.floor(seconds) + " seconds ago";
}



setTimeout(function () {

    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-47795566-10', 'auto');
    ga('send', 'pageview');


}, 12000);

function show_nextitem() {

    var current_status = document.getElementsByClassName('fourinch')[0].style.display;
    var arrow_el = document.getElementById("change_arrowicon");
    var x = document.getElementsByClassName('fourinch');

    var arrImg = document.getElementById('arrow_img');
    if (current_status == "none" || current_status == "") {
        arrImg.src = 'assets/images/up-arrow-sc.svg';
        for (var i = 0; i < x.length; i++) {
            x[i].style.display = "block";
        }
    } else {
        arrImg.src = 'assets/images/down-arrow-sc.svg';
        for (var i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }

    }
}
</script>
</html>